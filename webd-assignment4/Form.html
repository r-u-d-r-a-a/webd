<!doctype html>
<html lang="en">
 <head>
  <title>Feedback</title>
  <style>
    label {	float: left;
			width: 150px;}
      #container{
          width: 700px;
          margin: auto;
          background-color: beige;
      } 
      main{
          padding: 50px;
      }
  </style>
 </head>
 <body>
 <div id="container">
	 
	 <main>
	 <h2>Feeback</h2>
	 <h3>Love something? Hate something? Let us know!</h3>
		 Note : Fields marked with an asterisk(*) are mandatory
		 <br><br>

		 <div id="tableContainer" style="display: none;"></div>

		 <form method="post" id="myForm" nonvalidate style="display: block;" >
			<label>Title*:</label>
			<input type="radio" name="title" id="miss" value="miss" />Miss
			<input type="radio" name="title" id="mr" value="mr" />Mr.
			<input type="radio" name="title" id="mrs" value="mrs" />Mrs.
			<br><br>
			<label for="firstName">First Name*:</label>
			<input type="text" name="firstName" id="firstName" placeholder="First Name" required/>	
			<br><br>
			
			<div id="error_firstName" style=" display: none; color: red">
                Please enter a valid first name.
                <br><br>
            </div>

			<label for="lastName">Last Name*:</label>
			<input type="text" name="lastName" id="lastName" placeholder="Last Name" required/>
			<br><br>

			<div id="error_lastName" style=" display: none; color: red">
                Please enter a valid last name.
                <br><br>
            </div>
			

			<label for="emailId">Email Id*:</label>
			<input type="text" name="emailId" id="emailId" placeholder="yourname@domain.com" required/>
			<br><br>

			<div id="error_emailId" style=" display: none; color: red">
                Please enter a valid email address.
                <br><br>
            </div>
			

			<label for="phoneNumber">Phone Number*:</label>
			<input type="text" name="phoneNumber" id="phoneNumber" placeholder="xxx-xxx-xxxx" required/>
			<br><br>

			<div id="error_phoneNumber" style=" display: none; color: red">
                Please enter a valid phone number.
                <br><br>
            </div>
			
            <label for="zipcode">ZipCode*:</label>
			<input type="text" name="zipcode" id="zipcode" placeholder="xxxxxx" required/>
			<br><br>

			<div id="error_zipcode" style=" display: none; color: red">
                Please enter a valid zipcode.
                <br><br>
            </div>

            <label for="list">Drinks:</label>
				<select name="list" id="list" onchange=setCheckboxes(this.value)>
				<option value="" disabled selected>Select</option>
				<option value="Coffee">Coffee</option>
				<option value="Tea">Tea</option>
				<option value="Juice">Juice</option>
                <option value="Milkshake">Milkshake</option>
                <option value="Water">Water</option>
				</select>
				<br><br>

            <div id="coffee" style="display: none;">    
            <input type='checkbox' name="coffee" value="black" /> Black
            <input type='checkbox' name="coffee" value="cold" /> Cold
            <input type='checkbox' name="coffee" value="iced" /> Iced 
            <br><br>
            </div>

            <div id="tea" style="display: none;">    
            <input type='checkbox' name="tea" value="green" /> Green
            <input type='checkbox' name="tea" value="earl" /> Earl
            <input type='checkbox' name="tea" value="herbal" /> Herbal 
            <br><br>
            </div>

            <div id="juice" style="display: none;">    
            <input type='checkbox' name="juice" value="mango" /> Mango
            <input type='checkbox' name="juice" value="orange" /> Orange
            <input type='checkbox' name="juice" value="apple" /> Apple 
            <br><br>
            </div>

            <div id="milkshake" style="display: none;">    
                <input type='checkbox' name="milkshake" value="chocolate" /> Chocolate
                <input type='checkbox' name="milkshake" value="oreo" /> Oreo
                <input type='checkbox' name="milkshake" value="mango" /> Mango 
                <br><br>
                </div>

                <div id="water" style="display: none;">    
                    <input type='checkbox' name="water" value="hot" /> Hot
                    <input type='checkbox' name="water" value="cold" /> Cold
                    <input type='checkbox' name="water" value="sparkling" /> Sparkling 
                    <br><br>
                    </div>

            <div id="instructionInput"  style=" display: none;" >
            <label for="instruction" >Instruction*:</label>
			<input type="text" name="instruction" id="instruction" placeholder="instruction" required/>
			<br><br>
        </div>
             
            <label for="zipcode">How did you hear*:</label>
			<input type='checkbox' name="source" value="facebook" /> Facebook
            <input type='checkbox' name="source" value="google" /> Google
            <input type='checkbox' name="source" value="yelp" /> Yelp 
			<br><br> 

			<div id="error_source" style=" display: none; color: red">
                Please select at least one.
                <br><br>
            </div>
             
			<label for="comments">Comments*:</label>
			<textarea name="text" id="comments" placeholder="Your comments" rows="5" cols="25" required></textarea>
			<br><br>

			<div id="error_comments" style=" display: none; color: red">
                Please enter a comment.
                <br><br>
            </div>

			<input type="Submit" id="submit" disabled>
			<input type="Reset">
			<br><br>
		 </form>

         <div id="formTable" style="display: none;" >
            <table id="table">
                <tr>
                    <th>Title</th>
                    <td id="ttitle"></td>
                </tr>
                <tr>
                    <th>First Name</th>
                    <td id="tfirstname"></td>
                </tr>
                <tr>
                    <th>Last Name</th>
                    <td id="tlastname"></td>
                </tr>
                <tr>
                    <th>Email Id</th>
                    <td id="temail"></td>
                </tr>
                <tr>
                    <th>Phone Number</th>
                    <td id="tphone"></td>
                </tr>
                <tr>
                    <th>Zip Code</th>
                    <td id="tzipcode"></td>
                </tr>
                <tr>
                    <th>Comments</th>
                    <td id="tcomments"></td>
                </tr>
            
            </table>
        </div>
        

	 </main>
 </div>

 <script>

		var form = document.getElementById("myForm");
        form.addEventListener("input", submitted);
		form.addEventListener("submit",displayTable);

		var table = document.getElementsByTagName("table");

        var instructionInput = document.getElementById("instructionInput");
        var instruction = document.getElementById("instruction");

        var validFirstName = false;
		var validLastName = false;
        var validEmail = false;
        var validPhone = false;
		var validZip = false;
		var validComment = false;
		var validTitle = false;
		var validSource = false;
        var validText = true;

       
        var regExName = /^[a-zA-Z]{3,10}$/;
        var regExEmail = /^[a-zA-Z0-9._%+-]+@northeastern\.edu$/;
        var regExPhone = /\d{3}-?\d{3}-\d{4}$/;
		var regExZip = /^\d{5}(?:-\d{4})?$/;

        
        var firstName = document.getElementById("firstName");
        firstName.addEventListener("input", validate)

		var lastName = document.getElementById("lastName");
        lastName.addEventListener("input", validate)

        var emailId = document.getElementById("emailId");
        emailId.addEventListener("input", validate)

        var phoneNumber = document.getElementById("phoneNumber");
        phoneNumber.addEventListener("input", validate)

		var zipCode = document.getElementById("zipcode");
		zipCode.addEventListener("input",validate)

		var comments = document.getElementById("comments");
		comments.addEventListener("input",validate)

		var titleInput1 = document.getElementById("miss");
		var titleInput2 = document.getElementById("mr");
		var titleInput3 = document.getElementById("mrs");

		var source = document.getElementsByName("source");
        var teaCheck = document.getElementsByName("tea");
        var coffeeCheck = document.getElementsByName("coffee");
        var juiceCheck = document.getElementsByName("juice");
        var milkshakeCheck = document.getElementsByName("milkshake");
        var waterCheck = document.getElementsByName("water");
	
		var submit = document.getElementById("submit");
		

        
        function validate(e) {
            var value = e.target.value;
            var type = this.id;
            var em = "error_" + type;

            switch (type) {
                case "firstName":
                    if (!value.trim().match(regExName)) {
                        document.getElementById(em).style.display = "block";
                        this.style.border = "2px solid red";
                        validFirstName = false;
                    }
                    else {
                        document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validFirstName = true;
                    }
                    break;

				case "lastName":
                    if (!value.trim().match(regExName)) {
                        document.getElementById(em).style.display = "block";
                        this.style.border = "2px solid red";
                        validLastName = false;
                    }
                    else {
                        document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validLastName = true;
                    }
                    break;

                case "emailId":
                    if (!value.trim().match(regExEmail)) {
                        document.getElementById(em).style.display = "block";
                        this.style.border = "2px solid red";
                        validEmail = false;
                    }
                    else {
                        document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validEmail = true;
                    }
                    break;

                case "phoneNumber":
                    if (!value.trim().match(regExPhone)) {
                        document.getElementById(em).style.display = "block";
                        this.style.border = "2px solid red";
                        validPhone = false;
                    }
                    else {
                        document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validPhone = true;
                    }
                    break;

				case "zipcode":
					if(!value.trim().match(regExZip))
					{
						document.getElementById(em).style.display = "block";
                        this.style.border = "2px solid red";
                        validZip = false;
					}
					else
					{
						document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validZip = true;
					}
					break;

				case "comments":
					if(value.trim() == "")
					{
						document.getElementById(em).style.display = "block";
                        this.style.border = "2px solid red";
                        validComment = false;
					}
					else
					{
						document.getElementById(em).style.display = "none";
                        this.style.border = "";
                        validComment = true;
					}
					break;

            }
        }

        
        function submitted(e) {

			validTitle = titleInput1.checked || titleInput2.checked || titleInput3.checked;

            var check=false;

            for(let i =0;i<3;i++)
			{
                if(teaCheck[i].checked == true || coffeeCheck[i].checked == true || juiceCheck[i].checked == true || milkshakeCheck[i].checked == true || waterCheck[i].checked == true)
                {   
                    check=true;
                    break;
                }
				
			}

            if(check==true)
            {
                instructionInput.style.display = "block";
            }
            else
            {
                instructionInput.style.display = "none";
            }

            if(check==true && instruction.value.trim() ==  "")
            {
                validText=false;
                
            }
            else{
                validText=true;
            }


			for(let i =0;i<source.length;i++)
			{
				if(source[i].checked == true)
				{
					validSource = true;
					break;
				}

			}			
		
            if (validFirstName && validLastName && validPhone && validZip && validEmail && validComment && validTitle && validSource && validText) {
                submit.disabled = false;
            }
            else {
                submit.disabled = true;
            }
        }

        function setCheckboxes(cb)
        {
            var tea = document.getElementById("tea");
            var coffee = document.getElementById("coffee");
            var juice = document.getElementById("juice");
            var milkshake = document.getElementById("milkshake");
            var water = document.getElementById("water");

            
            for(let i =0;i<3;i++)
			{
				teaCheck[i].checked = false;
                coffeeCheck[i].checked = false;
                juiceCheck[i].checked = false;
                milkshakeCheck[i].checked = false;
                waterCheck[i].checked = false;
			}

            
            if(cb=="Tea")
            {
                tea.style.display = "";
                coffee.style.display = "none";
                juice.style.display = "none";
                milkshake.style.display = "none";
                water.style.display = "none";
            }
            else if(cb=="Coffee")
            {
                tea.style.display = "none";
                coffee.style.display = "";
                juice.style.display = "none";
                milkshake.style.display = "none";
                water.style.display = "none";
            }
            else if(cb=="Juice")
            {
                tea.style.display = "none";
                coffee.style.display = "none";
                juice.style.display = "";
                milkshake.style.display = "none";
                water.style.display = "none";
                
            }
            else if(cb=="Milkshake")
            {
                tea.style.display = "none";
                coffee.style.display = "none";
                juice.style.display = "none";
                milkshake.style.display = "";
                water.style.display = "none";
                
            }
            else if(cb=="Water")
            {
                tea.style.display = "none";
                coffee.style.display = "none";
                juice.style.display = "none";
                milkshake.style.display = "none";
                water.style.display = "";
                
            }
        }

		function displayTable(e)
		{
			e.preventDefault();

        document.getElementById("formTable").style.display = "block";

        if(titleInput1.checked)
        {
            document.getElementById("ttitle").innerHTML = titleInput1.value;
        }
        else if(titleInput2.checked)
        {
            document.getElementById("ttitle").innerHTML = titleInput2.value;
        }
        else{
            document.getElementById("ttitle").innerHTML = titleInput3.value;
        }
        
        document.getElementById("tfirstname").innerHTML = firstName.value
        document.getElementById("tlastname").innerHTML = lastName.value
        document.getElementById("temail").innerHTML = emailId.value
        document.getElementById("tphone").innerHTML = phoneNumber.value
        document.getElementById("tzipcode").innerHTML = zipCode.value
        document.getElementById("tcomments").innerHTML = comments.value
			
		}

 
 </script>

 </body>
</html>
